<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Astro Tech BLC</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #0d1b2a;
      color: white;
      text-align: center;
      padding: 20px;
      margin: 0;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    input, button {
      padding: 10px 15px;
      margin: 5px;
      border-radius: 5px;
      border: none;
      font-size: 16px;
    }
    input {
      width: 200px;
      background-color: #1b263b;
      color: white;
    }
    input:focus {
      outline: 2px solid #4a90e2;
    }
    button {
      background-color: #4a90e2;
      color: white;
      cursor: pointer;
      transition: all 0.3s;
    }
    button:hover {
      background-color: #357abd;
      transform: translateY(-2px);
    }
    button[disabled] {
      opacity: 0.6;
      cursor: not-allowed;
      background-color: #666;
      transform: none;
    }
    #astro-info {
      margin: 20px auto;
      background-color: #1b263b;
      padding: 20px;
      border-radius: 8px;
      width: 80%;
      min-height: 100px;
    }
    .loading {
      display: none;
      margin: 20px;
      text-align: center;
    }
    .loading::after {
      content: '';
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid #f3f3f3;
      border-top: 3px solid #4a90e2;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-left: 10px;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .error-message {
      color: #ff6b6b;
      margin: 10px 0;
      padding: 10px;
      background-color: rgba(255, 107, 107, 0.1);
      border-radius: 5px;
      display: none;
      transition: opacity 0.3s ease;
    }
    .error-message.show {
      display: block;
      opacity: 1;
    }
    .success-message {
      color: #4CAF50;
      margin: 10px 0;
      padding: 10px;
      background-color: rgba(76, 175, 80, 0.1);
      border-radius: 5px;
      display: none;
      transition: opacity 0.3s ease;
    }
    .success-message.show {
      display: block;
      opacity: 1;
    }
    .coordinates-input {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin: 20px 0;
    }
    .moon-phase {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }
    .moon-phase-item {
      background-color: #2c3e50;
      padding: 10px;
      border-radius: 5px;
      min-width: 150px;
    }
    .moon-phase-value {
      font-size: 1.2em;
      font-weight: bold;
      margin: 5px 0;
    }
    .moon-phase-date {
      color: #95a5a6;
      font-size: 0.9em;
    }
    .location-info {
      margin-top: 20px;
      padding: 10px;
      background-color: #2c3e50;
      border-radius: 5px;
    }
    .header-logo {
      width: 50px;
      height: 50px;
      vertical-align: middle;
      margin-right: 10px;
    }
    h1 {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      color: #4a90e2;
      font-size: 2.5em;
      margin-bottom: 20px;
    }
    .title-emoji {
      font-size: 1.2em;
      animation: float 3s ease-in-out infinite;
    }
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }
    .info-section {
      background-color: #1b263b;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
      width: 80%;
      margin-left: auto;
      margin-right: auto;
    }
    .section-title {
      color: #4a90e2;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .weather-info {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-top: 15px;
    }
    .weather-card {
      background-color: #2c3e50;
      padding: 15px;
      border-radius: 5px;
      min-width: 150px;
      text-align: center;
    }
    .satellite-info {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    .satellite-card {
      background-color: #2c3e50;
      padding: 15px;
      border-radius: 5px;
      text-align: center;
    }
    .galaxy-info {
      text-align: center;
      padding: 15px;
    }
    .galaxy-stats {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    .stat-card {
      background-color: #2c3e50;
      padding: 15px;
      border-radius: 5px;
      min-width: 120px;
    }
    .tab-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    .tab-button {
      padding: 10px 20px;
      background-color: #2c3e50;
      border: none;
      border-radius: 5px;
      color: white;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1.1em;
    }
    .tab-button.active {
      background-color: #4a90e2;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .planet-info {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }
    .planet-card {
      background-color: #2c3e50;
      padding: 20px;
      border-radius: 8px;
      width: 250px;
      text-align: left;
      transition: transform 0.3s;
      margin: 10px;
    }
    .planet-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }
    .planet-name {
      font-size: 1.4em;
      color: #4a90e2;
      margin-bottom: 15px;
      border-bottom: 1px solid #4a90e2;
      padding-bottom: 10px;
    }
    .planet-details p {
      margin: 8px 0;
      font-size: 0.95em;
      color: #ecf0f1;
    }
    .nasa-eyes-container {
      width: 100%;
      height: 500px;
      margin: 20px 0;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    @media (max-width: 768px) {
      .coordinates-input {
        flex-direction: column;
        align-items: center;
      }
      input {
        width: 80%;
      }
      .info-section {
        width: 95%;
      }
      .weather-info, .satellite-info, .galaxy-stats {
        flex-direction: column;
        align-items: center;
      }
      .planet-card {
        width: 90%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1><span class="title-emoji">ğŸŒŒ</span> Astro Tech BLC</h1>
    
    <p>Informe sua latitude e longitude ou clique em "Usar LocalizaÃ§Ã£o Atual":</p>
    <div class="coordinates-input">
      <input type="number" id="lat" placeholder="Latitude" step="any" min="-90" max="90" aria-label="Informe sua latitude" required />
      <input type="number" id="lon" placeholder="Longitude" step="any" min="-180" max="180" aria-label="Informe sua longitude" required />
    </div>
    <div>
      <button onclick="usarLocalizacao()" aria-label="Usar localizaÃ§Ã£o atual" id="location-btn">ğŸ“ Usar LocalizaÃ§Ã£o Atual</button>
      <button onclick="carregarAstros()" aria-label="Carregar dados astronÃ´micos" id="load-btn">ğŸ”­ Ver CÃ©u</button>
    </div>

    <div class="loading" id="loading">
      <p>Carregando dados astronÃ´micos...</p>
    </div>

    <div id="error-message" class="error-message" role="alert"></div>
    <div id="success-message" class="success-message" role="status"></div>

    <div class="tab-buttons">
      <button class="tab-button active" onclick="showTab('moon')">ğŸŒ™ Fases da Lua</button>
      <button class="tab-button" onclick="showTab('weather')">ğŸŒ¤ï¸ Clima</button>
      <button class="tab-button" onclick="showTab('satellites')">ğŸ›°ï¸ SatÃ©lites</button>
      <button class="tab-button" onclick="showTab('galaxy')">ğŸŒŒ GalÃ¡xia</button>
      <button class="tab-button" onclick="showTab('planets')">ğŸª Planetas</button>
    </div>

    <div id="astro-info" class="info-section tab-content active">
      <!-- ConteÃºdo das fases da lua serÃ¡ inserido aqui -->
    </div>

    <div id="weather-info" class="info-section tab-content">
      <h2 class="section-title">ğŸŒ¤ï¸ CondiÃ§Ãµes ClimÃ¡ticas</h2>
      <div class="weather-info">
        <div class="weather-card">
          <div class="weather-icon">â˜€ï¸</div>
          <div class="weather-value" id="temperature">--Â°C</div>
          <div class="weather-label">Temperatura</div>
        </div>
        <div class="weather-card">
          <div class="weather-icon">ğŸ’¨</div>
          <div class="weather-value" id="wind">-- km/h</div>
          <div class="weather-label">Vento</div>
        </div>
        <div class="weather-card">
          <div class="weather-icon">ğŸ’§</div>
          <div class="weather-value" id="humidity">--%</div>
          <div class="weather-label">Umidade</div>
        </div>
        <div class="weather-card">
          <div class="weather-icon">ğŸŒ§ï¸</div>
          <div class="weather-value" id="precipitation">--%</div>
          <div class="weather-label">PrecipitaÃ§Ã£o</div>
        </div>
      </div>
    </div>

    <div id="satellites-info" class="info-section tab-content">
      <h2 class="section-title">ğŸ›°ï¸ SatÃ©lites VisÃ­veis</h2>
      <div class="satellite-info">
        <div class="satellite-card">
          <div class="satellite-name">ISS</div>
          <div class="satellite-status" id="iss-status">NÃ£o visÃ­vel</div>
          <div class="satellite-next" id="iss-next">PrÃ³xima passagem: --:--</div>
        </div>
        <div class="satellite-card">
          <div class="satellite-name">Hubble</div>
          <div class="satellite-status" id="hubble-status">NÃ£o visÃ­vel</div>
          <div class="satellite-next" id="hubble-next">PrÃ³xima passagem: --:--</div>
        </div>
      </div>
    </div>

    <div id="galaxy-info" class="info-section tab-content">
      <h2 class="section-title">ğŸŒŒ Movimento da GalÃ¡xia</h2>
      <div class="galaxy-info">
        <p>PosiÃ§Ã£o atual em relaÃ§Ã£o ao centro da Via LÃ¡ctea</p>
        <div class="galaxy-stats">
          <div class="stat-card">
            <div class="stat-value" id="galaxy-distance">-- anos-luz</div>
            <div class="stat-label">DistÃ¢ncia do centro</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="galaxy-speed">-- km/s</div>
            <div class="stat-label">Velocidade orbital</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="galaxy-period">-- milhÃµes de anos</div>
            <div class="stat-label">PerÃ­odo orbital</div>
          </div>
        </div>
      </div>
    </div>

    <div id="planets-info" class="info-section tab-content">
      <h2 class="section-title">ğŸª Sistema Solar em Tempo Real</h2>
      
      <!-- NASA's Eyes Orrery -->
      <div class="nasa-eyes-container">
        <iframe 
          src="https://eyes.nasa.gov/apps/orrery/#/home" 
          width="100%" 
          height="500px" 
          frameborder="0"
          allow="fullscreen"
          title="NASA's Eyes - Sistema Solar em Tempo Real">
        </iframe>
      </div>

      <div class="planet-info">
        <div class="planet-card">
          <div class="planet-name">MercÃºrio</div>
          <div class="planet-details">
            <p>ğŸŒ¡ï¸ Temperatura: -173Â°C a 427Â°C</p>
            <p>ğŸ“ DiÃ¢metro: 4,879 km</p>
            <p>â±ï¸ Dia: 58.6 dias terrestres</p>
            <p>ğŸ“… Ano: 88 dias terrestres</p>
            <p>ğŸŒŒ DistÃ¢ncia do Sol: 0.39 AU</p>
          </div>
        </div>
        <div class="planet-card">
          <div class="planet-name">VÃªnus</div>
          <div class="planet-details">
            <p>ğŸŒ¡ï¸ Temperatura: 462Â°C</p>
            <p>ğŸ“ DiÃ¢metro: 12,104 km</p>
            <p>â±ï¸ Dia: 243 dias terrestres</p>
            <p>ğŸ“… Ano: 225 dias terrestres</p>
            <p>ğŸŒŒ DistÃ¢ncia do Sol: 0.72 AU</p>
          </div>
        </div>
        <div class="planet-card">
          <div class="planet-name">Terra</div>
          <div class="planet-details">
            <p>ğŸŒ¡ï¸ Temperatura: -88Â°C a 58Â°C</p>
            <p>ğŸ“ DiÃ¢metro: 12,742 km</p>
            <p>â±ï¸ Dia: 24 horas</p>
            <p>ğŸ“… Ano: 365.25 dias</p>
            <p>ğŸŒŒ DistÃ¢ncia do Sol: 1 AU</p>
          </div>
        </div>
        <div class="planet-card">
          <div class="planet-name">Marte</div>
          <div class="planet-details">
            <p>ğŸŒ¡ï¸ Temperatura: -140Â°C a 20Â°C</p>
            <p>ğŸ“ DiÃ¢metro: 6,779 km</p>
            <p>â±ï¸ Dia: 24.6 horas</p>
            <p>ğŸ“… Ano: 687 dias terrestres</p>
            <p>ğŸŒŒ DistÃ¢ncia do Sol: 1.52 AU</p>
          </div>
        </div>
        <div class="planet-card">
          <div class="planet-name">JÃºpiter</div>
          <div class="planet-details">
            <p>ğŸŒ¡ï¸ Temperatura: -110Â°C</p>
            <p>ğŸ“ DiÃ¢metro: 139,820 km</p>
            <p>â±ï¸ Dia: 9.9 horas</p>
            <p>ğŸ“… Ano: 12 anos terrestres</p>
            <p>ğŸŒŒ DistÃ¢ncia do Sol: 5.2 AU</p>
          </div>
        </div>
        <div class="planet-card">
          <div class="planet-name">Saturno</div>
          <div class="planet-details">
            <p>ğŸŒ¡ï¸ Temperatura: -140Â°C</p>
            <p>ğŸ“ DiÃ¢metro: 116,460 km</p>
            <p>â±ï¸ Dia: 10.7 horas</p>
            <p>ğŸ“… Ano: 29 anos terrestres</p>
            <p>ğŸŒŒ DistÃ¢ncia do Sol: 9.5 AU</p>
          </div>
        </div>
        <div class="planet-card">
          <div class="planet-name">Urano</div>
          <div class="planet-details">
            <p>ğŸŒ¡ï¸ Temperatura: -195Â°C</p>
            <p>ğŸ“ DiÃ¢metro: 50,724 km</p>
            <p>â±ï¸ Dia: 17.2 horas</p>
            <p>ğŸ“… Ano: 84 anos terrestres</p>
            <p>ğŸŒŒ DistÃ¢ncia do Sol: 19.8 AU</p>
          </div>
        </div>
        <div class="planet-card">
          <div class="planet-name">Netuno</div>
          <div class="planet-details">
            <p>ğŸŒ¡ï¸ Temperatura: -200Â°C</p>
            <p>ğŸ“ DiÃ¢metro: 49,244 km</p>
            <p>â±ï¸ Dia: 16.1 horas</p>
            <p>ğŸ“… Ano: 165 anos terrestres</p>
            <p>ğŸŒŒ DistÃ¢ncia do Sol: 30.1 AU</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    let latitude, longitude;
    let isLocationLoading = false;
    let isDataLoading = false;

    // InicializaÃ§Ã£o
    document.addEventListener('DOMContentLoaded', function() {
      // Adicionar listeners para validaÃ§Ã£o em tempo real
      document.getElementById('lat').addEventListener('input', validateCoordinates);
      document.getElementById('lon').addEventListener('input', validateCoordinates);
    });

    function showMessage(elementId, message, isError = true) {
      const element = document.getElementById(elementId);
      element.textContent = message;
      element.classList.add('show');
      
      setTimeout(() => {
        element.classList.remove('show');
      }, 5000);
    }

    function showLoading(show) {
      const loadingElement = document.getElementById('loading');
      loadingElement.style.display = show ? 'block' : 'none';
    }

    function validateCoordinates() {
      const lat = document.getElementById('lat').value;
      const lon = document.getElementById('lon').value;
      const loadBtn = document.getElementById('load-btn');

      if (lat && lon) {
        const latNum = parseFloat(lat);
        const lonNum = parseFloat(lon);
        
        if (isNaN(latNum) || isNaN(lonNum)) {
          loadBtn.disabled = true;
          return false;
        }
        
        if (latNum < -90 || latNum > 90 || lonNum < -180 || lonNum > 180) {
          loadBtn.disabled = true;
          return false;
        }
        
        loadBtn.disabled = false;
        return true;
      }
      
      loadBtn.disabled = true;
      return false;
    }

    function getMoonPhaseName(phase) {
      const normalizedPhase = phase % 1;
      
      if (normalizedPhase === 0 || normalizedPhase === 1) return "ğŸŒ‘ Lua Nova";
      if (normalizedPhase < 0.25) return "ğŸŒ’ Lua Crescente";
      if (normalizedPhase === 0.25) return "ğŸŒ“ Quarto Crescente";
      if (normalizedPhase < 0.5) return "ğŸŒ” Crescente Gibosa";
      if (normalizedPhase === 0.5) return "ğŸŒ• Lua Cheia";
      if (normalizedPhase < 0.75) return "ğŸŒ– Minguante Gibosa";
      if (normalizedPhase === 0.75) return "ğŸŒ— Quarto Minguante";
      return "ğŸŒ˜ Lua Minguante";
    }

    function obterFasesDaLua(lat, lon) {
      return new Promise((resolve, reject) => {
        if (lat < -90 || lat > 90 || lon < -180 || lon > 180) {
          reject(new Error("Coordenadas invÃ¡lidas"));
          return;
        }

        const fasesSimuladas = Array(7).fill(0).map((_, i) => {
          const fase = (i / 7) % 1;
          return fase;
        });
        
        resolve(fasesSimuladas);
      });
    }

    function obterDadosClima(lat, lon) {
      return new Promise((resolve, reject) => {
        const dadosSimulados = {
          temperatura: Math.round(20 + Math.random() * 10),
          vento: Math.round(5 + Math.random() * 15),
          umidade: Math.round(40 + Math.random() * 40),
          precipitacao: Math.round(Math.random() * 30)
        };
        resolve(dadosSimulados);
      });
    }

    function obterDadosSatelites(lat, lon) {
      return new Promise((resolve, reject) => {
        const agora = new Date();
        const proximaPassagem = new Date(agora.getTime() + 30 * 60 * 1000);
        
        resolve({
          iss: {
            visivel: Math.random() > 0.5,
            proximaPassagem: proximaPassagem.toLocaleTimeString()
          },
          hubble: {
            visivel: false,
            proximaPassagem: '--:--'
          }
        });
      });
    }

    function usarLocalizacao() {
      if (isLocationLoading) return;
      
      const botao = document.getElementById('location-btn');
      botao.disabled = true;
      isLocationLoading = true;
      botao.innerText = "Carregando...";

      if (!navigator.geolocation) {
        showMessage('error-message', "Seu navegador nÃ£o suporta geolocalizaÃ§Ã£o.");
        botao.disabled = false;
        isLocationLoading = false;
        botao.innerText = "ğŸ“ Usar LocalizaÃ§Ã£o Atual";
        return;
      }

      navigator.geolocation.getCurrentPosition(
        pos => {
          document.getElementById("lat").value = pos.coords.latitude.toFixed(4);
          document.getElementById("lon").value = pos.coords.longitude.toFixed(4);
          showMessage('success-message', "LocalizaÃ§Ã£o obtida com sucesso!", false);
          validateCoordinates();
          botao.disabled = false;
          isLocationLoading = false;
          botao.innerText = "ğŸ“ Usar LocalizaÃ§Ã£o Atual";
        },
        err => {
          let errorMessage = "Erro ao obter localizaÃ§Ã£o.";
          switch(err.code) {
            case err.PERMISSION_DENIED:
              errorMessage = "Acesso Ã  localizaÃ§Ã£o negado. Por favor, permita o acesso nas configuraÃ§Ãµes do seu navegador.";
              break;
            case err.POSITION_UNAVAILABLE:
              errorMessage = "LocalizaÃ§Ã£o indisponÃ­vel. Verifique sua conexÃ£o com a internet.";
              break;
            case err.TIMEOUT:
              errorMessage = "Tempo limite excedido ao obter localizaÃ§Ã£o.";
              break;
          }
          showMessage('error-message', errorMessage);
          botao.disabled = false;
          isLocationLoading = false;
          botao.innerText = "ğŸ“ Usar LocalizaÃ§Ã£o Atual";
        },
        { 
          timeout: 10000,
          maximumAge: 0,
          enableHighAccuracy: true 
        }
      );
    }

    function showTab(tabName) {
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      
      document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
      });
      
      document.getElementById(tabName + '-info').classList.add('active');
      event.target.classList.add('active');
    }

    function carregarAstros() {
      if (isDataLoading) return;
      
      latitude = parseFloat(document.getElementById("lat").value);
      longitude = parseFloat(document.getElementById("lon").value);

      if (!validateCoordinates()) {
        showMessage('error-message', "âš ï¸ Por favor, informe coordenadas vÃ¡lidas.");
        return;
      }

      isDataLoading = true;
      showLoading(true);

      // Carregar dados da lua
      obterFasesDaLua(latitude, longitude)
        .then(fases => {
          const fasesFormatadas = fases.map((fase, index) => {
            const data = new Date();
            data.setDate(data.getDate() + index);
            return {
              date: data,
              phase: fase,
              name: getMoonPhaseName(fase)
            };
          });
          
          const moonPhaseHTML = fasesFormatadas.map(fase => `
            <div class="moon-phase-item">
              <div class="moon-phase-name">${fase.name}</div>
              <div class="moon-phase-value">${(fase.phase * 100).toFixed(1)}%</div>
              <div class="moon-phase-date">${fase.date.toLocaleDateString()}</div>
            </div>
          `).join('');
          
          document.getElementById("astro-info").innerHTML = `
            <h2 class="section-title">ğŸŒ™ Fases da Lua</h2>
            <div class="moon-phase">
              ${moonPhaseHTML}
            </div>
            <div class="location-info">
              ğŸ“ LocalizaÃ§Ã£o: ${latitude.toFixed(4)}Â°N, ${longitude.toFixed(4)}Â°E
            </div>
          `;
        })
        .catch(err => {
          console.error('Erro ao carregar fases da lua:', err);
          document.getElementById("astro-info").innerHTML = `
            <p>NÃ£o foi possÃ­vel carregar os dados da Lua: ${err.message}</p>
            <div class="location-info">
              ğŸ“ LocalizaÃ§Ã£o: ${latitude.toFixed(4)}Â°N, ${longitude.toFixed(4)}Â°E
            </div>
          `;
        });

      // Carregar dados do clima
      obterDadosClima(latitude, longitude)
        .then(clima => {
          document.getElementById("temperature").textContent = `${clima.temperatura}Â°C`;
          document.getElementById("wind").textContent = `${clima.vento} km/h`;
          document.getElementById("humidity").textContent = `${clima.umidade}%`;
          document.getElementById("precipitation").textContent = `${clima.precipitacao}%`;
        })
        .catch(err => {
          console.error('Erro ao carregar dados do clima:', err);
          showMessage('error-message', `Erro ao carregar dados do clima: ${err.message}`);
        });

      // Carregar dados dos satÃ©lites
      obterDadosSatelites(latitude, longitude)
        .then(satelites => {
          document.getElementById("iss-status").textContent = satelites.iss.visivel ? "VisÃ­vel agora" : "NÃ£o visÃ­vel";
          document.getElementById("iss-next").textContent = `PrÃ³xima passagem: ${satelites.iss.proximaPassagem}`;
          document.getElementById("hubble-status").textContent = satelites.hubble.visivel ? "VisÃ­vel agora" : "NÃ£o visÃ­vel";
          document.getElementById("hubble-next").textContent = `PrÃ³xima passagem: ${satelites.hubble.proximaPassagem}`;
        })
        .catch(err => {
          console.error('Erro ao carregar dados dos satÃ©lites:', err);
          showMessage('error-message', `Erro ao carregar dados dos satÃ©lites: ${err.message}`);
        });

      // Calcular dados da galÃ¡xia
      const dadosGalaxia = calcularDadosGalaxia(latitude, longitude);
      document.getElementById("galaxy-distance").textContent = `${dadosGalaxia.distancia.toLocaleString()} anos-luz`;
      document.getElementById("galaxy-speed").textContent = `${dadosGalaxia.velocidade.toLocaleString()} km/s`;
      document.getElementById("galaxy-period").textContent = `${dadosGalaxia.periodo.toLocaleString()} milhÃµes de anos`;
      
      showMessage('success-message', "Dados astronÃ´micos carregados com sucesso!", false);
      showLoading(false);
      isDataLoading = false;
    }

    function calcularDadosGalaxia(lat, lon) {
      const distanciaCentro = 26000;
      const velocidadeOrbital = 230;
      const periodoOrbital = 225;

      const ajusteLat = Math.abs(lat) / 90;
      const ajusteLon = Math.abs(lon) / 180;

      return {
        distancia: Math.round(distanciaCentro * (1 + ajusteLat * 0.1)),
        velocidade: Math.round(velocidadeOrbital * (1 + ajusteLon * 0.05)),
        periodo: Math.round(periodoOrbital * (1 + ajusteLat * 0.02))
      };
    }
  </script>
</body>
</html>
